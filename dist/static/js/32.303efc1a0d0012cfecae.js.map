{"version":3,"sources":["webpack:///src/page/payConfirm.vue","webpack:///./src/page/payConfirm.vue?6191","webpack:///./src/page/payConfirm.vue"],"names":["payConfirm","components","headerBody","data","_this","this","payConfirmData","jsonObj","loadingTable","loadingBtn","disabled","readme","columns","title","key","className","render","h","params","DATAS","ORDER_GOODS_TYPE","index","orderGoodsType","ORDER_TYPE","orderType","width","align","props","value","price","label-in-value","on","on-change","event","num","label","unit","split","localStorage","setItem","stringify_default","style","display","row","goodsNumAndPrice","map","item","color","custom","size","click","splice","methods","readmeChange","nextForm","v","payStatus","errorText","$store","commit","types","$router","push","path","computed","extends_default","total","length","reduce","prev","cur","Object","vuex_esm","beforeMount","payOrders","getItem","JSON","parse","mounted","watch","handler","newV","oldV","deep","page_payConfirm","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","loading","directives","name","rawName","expression","_s","model","callback","$$v","href","type","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/32.303efc1a0d0012cfecae.js","sourcesContent":["<template lang=\"pug\">\r\n.pagePayConfirm\r\n  header-body\r\n  .mainBody\r\n    h1 订单确认\r\n    <!-- 列表主体 -->\r\n    .secTable\r\n      <Table :columns=\"columns\" :data=\"payConfirmData.jsonObj\" :loading=\"loadingTable\"></Table>\r\n      .total(v-show=\"payConfirmData.jsonObj.length\") 合计：<em>{{total}}</em>元\r\n      .readme(v-show=\"payConfirmData.jsonObj.length\")\r\n        Checkbox(v-model=\"readme\", @on-change=\"readmeChange\") 我已阅读并同意\r\n        a(href=\"#\") 《域名注册协议》\r\n    .btn(v-show=\"payConfirmData.jsonObj.length\")\r\n      Button(type=\"primary\", @click=\"nextForm\", :loading=\"loadingBtn\", :disabled=\"disabled\") 下一步\r\n</template>\r\n\r\n<script>\r\nimport {mapState} from 'vuex'\r\nimport * as types from '@/store/types'\r\nimport headerBody from '../modular/header'\r\nexport default {\r\n  components: {\r\n    headerBody\r\n  },\r\n  data () {\r\n    return {\r\n      payConfirmData: {\r\n        jsonObj: []\r\n      },\r\n      loadingTable: false,\r\n      loadingBtn: false,\r\n      disabled: true,\r\n      readme: false,\r\n      columns: [\r\n        {\r\n          title: '产品名称',\r\n          key: 'orderGoodsType',\r\n          className: 'col1',\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              h('span', {\r\n              }, this.DATAS.ORDER_GOODS_TYPE[this.payConfirmData.jsonObj[params.index].orderGoodsType])\r\n            ])\r\n          }\r\n        },\r\n        {\r\n          title: '域名',\r\n          key: 'domainName',\r\n          className: 'col2'\r\n        },\r\n        {\r\n          title: '订单类型',\r\n          key: 'orderType',\r\n          className: 'col7',\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              h('span', {\r\n              }, this.DATAS.ORDER_TYPE[this.payConfirmData.jsonObj[params.index].orderType])\r\n            ])\r\n          }\r\n        },\r\n        {\r\n          title: '数量',\r\n          key: 'action',\r\n          width: 170,\r\n          align: 'center',\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              h('Select', {\r\n                props: {\r\n                  value: this.payConfirmData.jsonObj[params.index].price,\r\n                  'label-in-value': true\r\n                },\r\n                on: {\r\n                  'on-change': (event) => {\r\n                    console.log(event)\r\n                    this.payConfirmData.jsonObj[params.index].num = event.label\r\n                    this.payConfirmData.jsonObj[params.index].price = event.value\r\n                    this.payConfirmData.jsonObj[params.index].unit = event.value.split('_')[1]\r\n                    localStorage.setItem('data_pay_confirm', JSON.stringify(this.payConfirmData))\r\n                  }\r\n                },\r\n                style: {\r\n                  'display': this.payConfirmData.jsonObj[params.index].num ? 'inline-block' : 'none'\r\n                }\r\n              },\r\n              params.row.goodsNumAndPrice.map((item) => {\r\n                return h('Option', {\r\n                  props: {\r\n                    value: item.price + '_' + item.unit,\r\n                    label: item.num\r\n                  }\r\n                })\r\n              })),\r\n              h('span', {\r\n                style: {\r\n                  display: !this.payConfirmData.jsonObj[params.index].num ? 'inline-block' : 'none'\r\n                }\r\n              }, '已超最大续费年限')\r\n            ])\r\n          }\r\n        },\r\n        {\r\n          title: '价格（元）',\r\n          key: 'price',\r\n          className: 'col6',\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              h('span', {\r\n                style: {\r\n                  color: '#f00'\r\n                }\r\n              }, this.payConfirmData.jsonObj[params.index].num ? (this.payConfirmData.jsonObj[params.index].price.split('_')[0] + '元') : '-')\r\n            ])\r\n          }\r\n        },\r\n        {\r\n          title: '付款方式',\r\n          key: 'methed',\r\n          className: 'col7',\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              h('span', {\r\n              }, this.payConfirmData.jsonObj[params.index].num ? '信用消费' : '-')\r\n            ])\r\n          }\r\n        },\r\n        {\r\n          title: '操作',\r\n          key: 'operate',\r\n          className: 'operate',\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              h('Icon', {\r\n                props: {\r\n                  custom: 'i-icon i-icon-error1',\r\n                  size: '16'\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.payConfirmData.jsonObj.splice(params.index, 1)\r\n                    localStorage.setItem('data_pay_confirm', JSON.stringify(this.payConfirmData))\r\n                  }\r\n                }\r\n              }, '')\r\n            ])\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  methods: {\r\n    readmeChange () {\r\n      this.disabled = !this.readme\r\n    },\r\n    nextForm () {\r\n      this.payConfirmData.jsonObj.map((v) => {\r\n        v.payStatus = null\r\n        v.errorText = ''\r\n      })\r\n      this.$store.commit(types.SET_PAY_ORDERS_FINISH, this.payConfirmData)\r\n      this.$router.push({path: '/pay'})\r\n    }\r\n  },\r\n  computed: {\r\n    total () {\r\n      if (typeof this.payConfirmData.jsonObj !== 'undefined' && this.payConfirmData.jsonObj.length) {\r\n        return this.payConfirmData.jsonObj.reduce((prev, cur) => {\r\n          return (cur.price.split('_')[0] * 1) + prev\r\n        }, 0)\r\n      }\r\n      return 0\r\n    },\r\n    ...mapState([\r\n      'payOrders'\r\n    ])\r\n  },\r\n  beforeMount () {\r\n    // 查看vuex中是否有数据，有使用vuex数据\r\n    // 如果没有数据，查看本地存储中是否存在数据，有使用本地存储数据\r\n    // 都没有，显示空列表\r\n    if (this.payOrders.jsonObj.length) {\r\n      this.payConfirmData = this.payOrders\r\n      localStorage.setItem('data_pay_confirm', JSON.stringify(this.payOrders))\r\n    } else if (localStorage.getItem('data_pay_confirm')) {\r\n      this.payConfirmData = JSON.parse(localStorage.getItem('data_pay_confirm'))\r\n    } else {\r\n    }\r\n  },\r\n  mounted () {\r\n  },\r\n  watch: {\r\n    payOrders: {\r\n      handler (newV, oldV) {\r\n      },\r\n      deep: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.pagePayConfirm .mainBody{\r\n  width:1200px;\r\n  margin:0 auto;\r\n  padding-top:100px;\r\n}\r\n.pagePayConfirm .mainBody h1{\r\n  height:202px;\r\n  line-height:202px;\r\n  background:url(../../static/img/activation/img_01.png) no-repeat;\r\n  font-size:30px;\r\n  color:#fff;\r\n  font-weight:400;\r\n  text-align:center;\r\n}\r\n.pagePayConfirm .mainBody .secTable{\r\n  padding:0 50px 50px 50px;\r\n  background: #fff;\r\n}\r\n.pagePayConfirm .total{\r\n  text-align: right;\r\n  padding: 40px 0 20px 0;\r\n}\r\n.pagePayConfirm .total{\r\n  font-size:14px;\r\n}\r\n.pagePayConfirm .total em{\r\n  font-size:26px;\r\n  color:#f00;\r\n  font-weight:600;\r\n}\r\n.pagePayConfirm .readme{\r\n  text-align: right;\r\n}\r\n.pagePayConfirm .readme a{\r\n  color:#0f5bd3;\r\n}\r\n.pagePayConfirm .btn {\r\n  text-align:right;\r\n  padding: 36px 50px;\r\n}\r\n.pagePayConfirm .btn button{\r\n  width:100px;\r\n}\r\n.pagePayConfirm .operate .ivu-icon{\r\n  cursor: pointer;\r\n}\r\n.pagePayConfirm .operate .ivu-icon:hover{\r\n  color: #f00;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/payConfirm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pagePayConfirm\"},[_c('header-body'),_c('div',{staticClass:\"mainBody\"},[_c('h1',[_vm._v(\"订单确认\")]),_c('div',{staticClass:\"secTable\"},[_c('Table',{attrs:{\"columns\":_vm.columns,\"data\":_vm.payConfirmData.jsonObj,\"loading\":_vm.loadingTable}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.payConfirmData.jsonObj.length),expression:\"payConfirmData.jsonObj.length\"}],staticClass:\"total\"},[_vm._v(\"合计：\"),_c('em',[_vm._v(_vm._s(_vm.total))]),_vm._v(\"元\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.payConfirmData.jsonObj.length),expression:\"payConfirmData.jsonObj.length\"}],staticClass:\"readme\"},[_c('Checkbox',{on:{\"on-change\":_vm.readmeChange},model:{value:(_vm.readme),callback:function ($$v) {_vm.readme=$$v},expression:\"readme\"}},[_vm._v(\"我已阅读并同意\")]),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"《域名注册协议》\")])],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.payConfirmData.jsonObj.length),expression:\"payConfirmData.jsonObj.length\"}],staticClass:\"btn\"},[_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loadingBtn,\"disabled\":_vm.disabled},on:{\"click\":_vm.nextForm}},[_vm._v(\"下一步\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5d88f54e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/payConfirm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5d88f54e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./payConfirm.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./payConfirm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./payConfirm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5d88f54e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./payConfirm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/payConfirm.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}