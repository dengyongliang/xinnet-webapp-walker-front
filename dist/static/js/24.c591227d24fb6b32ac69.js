webpackJsonp([24],{EqBF:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e("Dd8w"),r=e.n(i),a=e("NYxO"),s=e("5reh"),n=e("XrW5"),l=e("973t"),c={components:{compInput:n.a,compRePassword:l.a},data:function(){return{modalAlertInfo:{show:!1,title:"",content:""},loadingBtn:!1,account:{value:"",error:0},password:{value:"",error:0},verificationCode:{value:"",error:0,minlength:6,success:!1}}},methods:r()({submit:function(){var t=this;if(this.loadingBtn=!0,""===this.$refs.account.value)return this.account.error=1,this.loadingBtn=!1,!1;if(""===this.$refs.password.value)return this.password.error=1,this.loadingBtn=!1,!1;if(""===this.$refs.verificationCode.value)return this.verificationCode.error=1,this.loadingBtn=!1,!1;if(""!==this.$refs.verificationCode.value&&this.$refs.verificationCode.value.length<6)return this.verificationCode.error=2,this.loadingBtn=!1,!1;var o={param:{account:this.$refs.account.value,password:this.$refs.password.value,verificationCode:this.$refs.verificationCode.value},callback:function(o){var e=o.data;"1000"===e.code?window.location.href="/":(t.loadingBtn=!1,"100"===e.code?t.account.error=2:"200"===e.code?(t.modalAlertInfo.show=!0,t.modalAlertInfo.title="失败",t.modalAlertInfo.content="用户已登录"):"300"===e.code?t.verificationCode.error=3:"400"===e.code?t.password.error=2:"600"===e.code?(t.modalAlertInfo.show=!0,t.modalAlertInfo.title="失败",t.modalAlertInfo.content="用户被锁定"):"700"===e.code&&(t.modalAlertInfo.show=!0,t.modalAlertInfo.title="失败",t.modalAlertInfo.content="用户权限异常"))}};this.loginSubmit(o)},getVerificationCode:function(t){var o=this;if(""===this.$refs.account.value)return this.account.error=1,this.loadingBtn=!1,!1;var e={param:{userCode:this.$refs.account.value},callback:function(t){var e=t.data;"1000"===e.code?(o.verificationCode.success=!0,o.modalAlertInfo.show=!0,o.modalAlertInfo.title="发送成功",o.modalAlertInfo.content="短信口令已经发送，截止当天23:59:59有效，请注意保留！"):"100"===e.code?(o.modalAlertInfo.show=!0,o.modalAlertInfo.title="发送失败",o.modalAlertInfo.content="手机号码错误"):"200"===e.code?(o.modalAlertInfo.show=!0,o.modalAlertInfo.title="发送失败",o.modalAlertInfo.content="短信验证码已超上限"):"300"===e.code?(o.modalAlertInfo.title="提示",o.modalAlertInfo.content="短信口令已经发送，截止当天23:59:59有效，请注意保留！",o.modalAlertInfo.show=!0):"900"===e.code&&(o.verificationCode.error=4)}};this.loginVerificationCode(e)},onFocus:function(t){this.account.error=0,this.password.error=0,this.verificationCode.error=0},onBlur:function(t){var o=t.target.value;"verificationCode"===t.target.name&&""!==o&&o.length<this.verificationCode.minlength&&(this.verificationCode.error=2)}},Object(a.b)({loginSubmit:s.J,loginVerificationCode:s.K})),computed:r()({},Object(a.c)(["types.SHOW_BODY_SPIN"])),beforeMount:function(){},mounted:function(){this.$store.commit(s._75)}},d={render:function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("Row",{staticClass:"code-row-bg pageLogin",attrs:{type:"flex",justify:"center",align:"middle"}},[i("Col",{staticClass:"main clear"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:e("GnqT")}})]),i("Form",{ref:"form",attrs:{form:"login"}},[i("div",{staticClass:"wrap"},[i("div",{staticStyle:{display:"none"}},[i("strong",{staticClass:"t"},[i("span",[t._v("找回密码")])]),i("Alert",{attrs:{type:"error","show-icon":"show-icon"}},[t._v("An error prompt")]),i("div",{staticClass:"setp1"},[i("FormItem",{staticClass:"mobileInput"},[i("comp-input",{ref:"userName",attrs:{name:"userName",defaultValue:"",placeholder:"输入账号绑定手机号",styles:"width:100%"}},[i("i",{staticClass:"font iconleft font-tick1",attrs:{slot:"left"},slot:"left"})]),t.verificationCode.success?t._e():i("a",{attrs:{href:"javascript:;"},on:{click:t.getVerificationCode}},[t._v("获取短信验证码")]),i("span",{staticClass:"tips"},[t.verificationCode.success?i("i",[t._v("发送成功")]):t._e()])],1),i("FormItem",{staticClass:"verificationCodeInput"},[i("comp-input",{ref:"userName",attrs:{name:"userName",defaultValue:"",placeholder:"输入验证码",styles:"width:100%"}},[i("i",{staticClass:"font iconleft font-tick1",attrs:{slot:"left"},slot:"left"})])],1),i("FormItem",[i("Button",{attrs:{type:"primary",loading:t.loadingBtn},on:{click:t.submit}},[t._v("下一步")])],1)],1),i("div",{staticClass:"setp2"},[i("comp-re-password",{ref:"compRePassword",attrs:{defaultValue:"",show:t.refresh,label1:"",label2:"",placeholder1:"请输入新密码",placeholder2:"请重复新密码",styles1:"width:100%",styles2:"width:100%"}},[i("i",{staticClass:"font iconleft font-lock1",attrs:{slot:"left1"},slot:"left1"}),i("Icon",{staticClass:"iconright",attrs:{slot:"right1",type:"ios-checkmark-circle"},slot:"right1"}),i("i",{staticClass:"font iconleft font-lock1",attrs:{slot:"left2"},slot:"left2"}),i("Icon",{staticClass:"iconright",attrs:{slot:"right2",type:"ios-checkmark-circle"},slot:"right2"})],1),i("FormItem",[i("Button",{attrs:{type:"primary",loading:t.loadingBtn},on:{click:t.submit}},[t._v("完成")])],1)],1)],1),i("div",{staticClass:"setp3"},[i("p",{staticClass:"p1"},[i("Icon",{attrs:{type:"ios-checkmark-circle-outline"}})],1),i("p",{staticClass:"p2"},[t._v("已重置密码！")]),i("p",{staticClass:"p3"},[i("a",[t._v("请重新登录")])]),i("Button",{attrs:{type:"primary",loading:t.loadingBtn},on:{click:t.submit}},[t._v("去登录")])],1)])]),i("div",{staticClass:"footer"},[i("span",[t._v("Copyright © 1993-2018"),i("br"),t._v("北京新网数码信息技术有限公司 版权所有")])])],1)],1)},staticRenderFns:[]};var f=e("VU/8")(c,d,!1,function(t){e("qmvf")},null,null);o.default=f.exports},GnqT:function(t,o,e){t.exports=e.p+"static/img/logo.a5cedef.png"},qmvf:function(t,o){}});
//# sourceMappingURL=24.c591227d24fb6b32ac69.js.map