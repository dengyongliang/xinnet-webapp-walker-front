webpackJsonp([15],{"9IKO":function(t,e){},CDLj:function(t,e,a){t.exports=a.p+"static/img/img_02.f94b9c5.png"},"Koz+":function(t,e){},NDHs:function(t,e){},Ua7H:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),r=a.n(s),o=a("NYxO"),i=a("qcCp"),n=a("5reh"),c=a("XrW5"),l=a("naar"),u={name:"compActivationStep1",components:{compInput:c.a},props:{userCode:""},data:function(){return{loadingBtn:!1}},methods:r()({submit:function(){var t=this;if(this.loadingBtn=!0,Object(l.a)([this.$refs.userName])){var e={param:{userCode:this.userCode,userName:this.$refs.userName.value},callback:function(a){t.loadingBtn=!1,a&&("1000"===a.data.code?(t.$Message.success("验证成功"),t.$store.commit(n._56,a.data),t.$store.commit(n._56,e.param),t.$emit("submitStep")):"200"===a.data.code?t.$Message.error("用户不存在"):t.$Message.error("验证失败"))}};this.checkValidUser(e)}else this.loadingBtn=!1}},Object(o.b)({checkValidUser:n.f})),beforeMount:function(){},mounted:function(){},computed:r()({},Object(o.d)(["activation"]))},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Form",{ref:"form1",staticClass:"step step1",attrs:{form:""}},[e("p",[this._v("管理员已为您设置姓名，为了账号安全，请输入您的真实姓名进行验证。")]),e("FormItem",{attrs:{label:"姓名："}},[e("comp-input",{ref:"userName",attrs:{name:"userName",label:"姓名",defaultValue:"",placeholder:"请输入姓名"}})],1),e("FormItem",{staticClass:"btn",attrs:{label:" "}},[e("Button",{attrs:{type:"primary",loading:this.loadingBtn},on:{click:this.submit}},[this._v("下一步")])],1)],1)},staticRenderFns:[]};var d=a("VU/8")(u,m,!1,function(t){a("a8Q9")},"data-v-1018aa9c",null).exports,p=a("vyg+"),f={name:"compActivationStep2",components:{compInput:c.a,compRadio:p.a},props:{userCode:""},data:function(){return{verificationCode:!1,loadingBtn:!1,sexList:[{value:"男",label:"1"},{value:"女",label:"0"}]}},methods:r()({submit:function(){var t=this;this.loadingBtn=!0;if(this.activation.keeperFlag?Object(l.a)([this.$refs.userTel,this.$refs.userSex,this.$refs.qq,this.$refs.wx,this.$refs.userMobile,this.$refs.verificationCode]):Object(l.a)([this.$refs.userTel,this.$refs.userSex,this.$refs.userMobile,this.$refs.verificationCode])){var e={param:{userCode:this.userCode,userSex:this.$refs.userSex.value,userTel:this.$refs.userTel.value,userMobile:this.$refs.userMobile.value,verificationCode:this.$refs.verificationCode.value},callback:function(e){t.loadingBtn=!1,e&&("1000"===e.data.code?(t.$Message.success("设置个人信息成功"),t.$store.commit(n.g),t.$emit("submitStep")):"100"===e.data.code?t.$refs.verificationCode.showValidateResult({text:"验证码错误或已失效"}):"200"===e.data.code?t.$Message.error("用户不存在"):"300"===e.data.code?t.$Message.error("用户已激活"):"400"===e.data.code?t.$Message.error("手机号码已存在"):t.$Message.error("发送失败"))}};this.activation.keeperFlag&&(e.param.qq=this.$refs.qq.value,e.param.wx=this.$refs.wx.value),this.submitActivationUserInfo(e)}else this.loadingBtn=!1},getVerificationCode:function(){var t=this;if(this.loadingBtn=!0,Object(l.a)([this.$refs.userMobile])){var e={param:{userMobile:this.$refs.userMobile.value},callback:function(e){t.loadingBtn=!1,e&&("1000"===e.data.code?t.$Message.success("发送成功"):"300"===e.data.code?t.$Message.error("短信验证码已发送"):"500"===e.data.code?t.$Message.error("手机号码错误"):t.$Message.error("发送失败"))}};this.getActivationVerificationCode(e)}else this.loadingBtn=!1}},Object(o.b)({submitActivationUserInfo:n._76,getActivationVerificationCode:n.a})),beforeMount:function(){},mounted:function(){},computed:r()({},Object(o.d)(["activation"]))},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Form",{ref:"form",staticClass:"step step2",attrs:{form:""}},[a("FormItem",{attrs:{label:"用户名："}},[a("span",{staticClass:"text"},[t._v(t._s(t.activation.userCode))])]),a("FormItem",{attrs:{label:"姓名："}},[a("span",{staticClass:"text"},[t._v(t._s(t.activation.userName))])]),a("FormItem",{attrs:{label:"邮箱："}},[a("span",{staticClass:"text"},[t._v(t._s(t.activation.email))])]),t.activation.keeperFlag?t._e():a("FormItem",{attrs:{label:"所属企业："}},[a("span",{staticClass:"text"},[t._v(t._s(t.activation.companyName))])]),a("FormItem",{attrs:{label:"性别："}},[a("comp-radio",{ref:"userSex",attrs:{name:"userSex",list:t.sexList}})],1),a("FormItem",{attrs:{label:"座机："}},[a("comp-input",{ref:"userTel",attrs:{name:"tel",label:"座机",defaultValue:"",placeholder:"请输入座机"}})],1),t.activation.keeperFlag?a("FormItem",{attrs:{label:"QQ："}},[a("comp-input",{ref:"qq",attrs:{name:"qq",label:"QQ",defaultValue:"",placeholder:"请输入QQ"}})],1):t._e(),t.activation.keeperFlag?a("FormItem",{attrs:{label:"微信："}},[a("comp-input",{ref:"wx",attrs:{name:"wx",label:"微信",defaultValue:"",placeholder:"请输入微信"}})],1):t._e(),a("FormItem",{attrs:{label:"手机号："}},[a("comp-input",{ref:"userMobile",attrs:{name:"userMobile",label:"手机号",validate:"mobile",defaultValue:"",placeholder:"请输入手机号",maxLength:11}})],1),a("FormItem",{attrs:{label:"短信验证码："}},[a("comp-input",{ref:"verificationCode",attrs:{name:"verificationCode",label:"短信验证码",defaultValue:"",placeholder:"请输入短信验证码",styles:"width:118px",maxLength:6}},[a("Button",{staticClass:"verificationCode",attrs:{slot:"right",loading:t.loadingBtn},on:{click:t.getVerificationCode},slot:"right"},[t._v("获取短信验证码")])],1)],1),a("FormItem",{staticClass:"btn",attrs:{label:" "}},[a("Button",{attrs:{type:"primary",loading:t.loadingBtn},on:{click:t.submit}},[t._v("下一步")])],1)],1)},staticRenderFns:[]};var b=a("VU/8")(f,v,!1,function(t){a("ouvC")},"data-v-3e705f81",null).exports,h={name:"compActivationStep3",components:{compRePassword:a("973t").a},props:{userCode:""},data:function(){return{loadingBtn:!1}},methods:r()({submit:function(){var t=this;if(Object(l.a)([this.$refs.compRePassword])){var e={param:{userCode:this.userCode,password:this.$refs.compRePassword.$refs.password.value},callback:function(e){t.loadingBtn=!1,e&&("1000"===e.data.code?(t.$Message.success("激活成功"),t.$emit("submitStep")):"200"===e.data.code?t.$Message.error("用户不存在"):"300"===e.data.code?t.$Message.error("用户已激活"):t.$Message.error("激活失败"))}};this.submitActivationUserPwd(e)}else this.loadingBtn=!1}},Object(o.b)({submitActivationUserPwd:n._77})),beforeMount:function(){},mounted:function(){},computed:{}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Form",{ref:"form3",staticClass:"step step2",attrs:{form:""}},[e("comp-re-password",{ref:"compRePassword",attrs:{defaultValue:"",label1:"请输入密码：",label2:"请重复密码：",placeholder1:"",placeholder2:"",type:"rePassword"}}),e("FormItem",{staticClass:"btn",attrs:{label:" "}},[e("Button",{attrs:{type:"primary",loading:this.loadingBtn},on:{click:this.submit}},[this._v("下一步")])],1)],1)},staticRenderFns:[]};var C=a("VU/8")(h,g,!1,function(t){a("Koz+")},"data-v-539bb2f9",null).exports,$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Form",{ref:"form",staticClass:"step step4",attrs:{form:""}},[e("p",{staticClass:"p1"},[e("img",{attrs:{src:a("CDLj")}})]),e("p",{staticClass:"p2"},[this._v("激活完成，请登录")]),e("FormItem",{staticClass:"btn",attrs:{label:" "}},[e("router-link",{attrs:{to:"/login"}},[e("Button",{attrs:{type:"primary"}},[this._v("去登录")])],1)],1)],1)},staticRenderFns:[]};var _=a("VU/8")({name:"compActivationStep4",components:{},props:{},data:function(){return{}},methods:{},beforeMount:function(){},mounted:function(){},computed:{}},$,!1,function(t){a("NDHs")},"data-v-ba608204",null).exports,M={components:{headerBody:i.a,compActivationStep1:d,compActivationStep2:b,compActivationStep3:C,compActivationStep4:_},props:{userCode:""},data:function(){return{step:0}},methods:{submitStep1:function(){this.step=1},submitStep2:function(){this.step=2},submitStep3:function(){this.step=3}},computed:r()({},Object(o.d)(["activation"])),beforeMount:function(){},mounted:function(){}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pageActivation"},[a("header-body"),a("div",{staticClass:"mainBody"},[a("h1",[t._v("欢迎使用行者数字资产管理系统，请按要求激活账户")]),a("Steps",{attrs:{current:t.step}},[a("Step",{attrs:{title:"验证姓名"}}),a("Step",{attrs:{title:"设置个人信息"}}),a("Step",{attrs:{title:"设置密码"}})],1),0===t.step?a("comp-activation-step1",{ref:"form1",attrs:{userCode:t.userCode},on:{submitStep:t.submitStep1}}):t._e(),1===t.step?a("comp-activation-step2",{ref:"form2",attrs:{userCode:t.userCode},on:{submitStep:t.submitStep2}}):t._e(),2===t.step?a("comp-activation-step3",{ref:"form3",attrs:{userCode:t.userCode},on:{submitStep:t.submitStep3}}):t._e(),3===t.step?a("comp-activation-step4",{ref:"form4",attrs:{userCode:t.userCode}}):t._e()],1)],1)},staticRenderFns:[]};var F=a("VU/8")(M,S,!1,function(t){a("9IKO")},null,null);e.default=F.exports},a8Q9:function(t,e){},ouvC:function(t,e){}});
//# sourceMappingURL=15.20fd658e327432eadf1e.js.map