webpackJsonp([24],{"2j7u":function(t,o){},GnqT:function(t,o,e){t.exports=e.p+"static/img/logo.a5cedef.png"},Ntyz:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=e("Dd8w"),s=e.n(r),n=e("NYxO"),i=e("5reh"),a={components:{compInput:e("XrW5").a},data:function(){return{errorText:"",loadingBtn:!1,showError:!1,success:!1,textVC:"获取短信验证码",downTime:60}},methods:s()({onShowError:function(t){this.showError=!0,this.errorText=t},onHideError:function(){this.showError=!1},getVerificationCode:function(t){var o=this;if(""===this.$refs.account.value)return this.$refs.account.showValidateResult({text:""}),this.onShowError("请输入登录名"),this.loadingBtn=!1,!1;var e={param:{userCode:this.$refs.account.value},callback:function(t){var e=t.data;"1000"===e.code?(o.success=!0,o.countDown()):"100"===e.code?o.$refs.account.showValidateResult({text:"手机号码不存在"}):"200"===e.code?o.onShowError("获取短信验证码已超上限"):"300"===e.code&&o.onShowError("短信验证码已发送")}};this.loginVerificationCode(e)},submit:function(){var t=this;this.loadingBtn=!0;var o=this.$refs.account.value,e=this.$refs.password.value,r=this.$refs.verificationCode.value;if(!o)return this.loadingBtn=!1,this.$refs.account.showValidateResult({text:""}),this.onShowError("请输入登录名"),!1;if(!e)return this.loadingBtn=!1,this.$refs.password.showValidateResult({text:""}),this.onShowError("请输入密码"),!1;if(!r)return this.loadingBtn=!1,this.$refs.verificationCode.showValidateResult({text:""}),this.onShowError("请输入验证码"),!1;if(r&&r.length<6)return this.loadingBtn=!1,this.$refs.verificationCode.showValidateResult({text:""}),this.onShowError("请输入6位的数字"),!1;var s={param:{account:o,password:e,verificationCode:r},callback:function(o){var e=o.data;"1000"===e.code?(t.$Message.success("登录成功！"),setTimeout(function(){1*e.keeperFlag?t.$router.replace({path:"/client"}):t.$router.replace({path:"/home"})},500)):(t.loadingBtn=!1,"100"===e.code?(t.onShowError("用户不存在"),t.$refs.account.showValidateResult({text:"用户不存在"})):"200"===e.code?(t.onShowError("用户已登录"),t.$refs.account.showValidateResult({text:"用户已登录"})):"300"===e.code?(t.onShowError("手机验证码错误"),t.$refs.verificationCode.showValidateResult({text:"手机验证码错误"})):"400"===e.code?(t.onShowError("密码错误"),t.$refs.password.showValidateResult({text:"密码错误"})):"600"===e.code?(t.onShowError("用户被锁定"),t.$refs.account.showValidateResult({text:"用户被锁定"})):"700"===e.code?(t.onShowError("用户权限异常"),t.$refs.account.showValidateResult({text:"用户权限异常"})):"800"===e.code&&(t.onShowError("非法登录"),t.$refs.account.showValidateResult({text:"非法登录"})))}};this.loginSubmit(s)},countDown:function(){var t=this,o=window.setInterval(function(){t.downTime--,t.downTime<0&&(window.clearInterval(o),t.success=!1,t.downTime=60)},1e3)}},Object(n.b)({loginSubmit:i.J,loginVerificationCode:i.K})),computed:{},beforeMount:function(){},mounted:function(){}},c={render:function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("Row",{staticClass:"code-row-bg pageLogin",attrs:{type:"flex",justify:"center",align:"middle"}},[r("Col",{staticClass:"main clear"},[r("div",{staticClass:"logo"},[r("img",{attrs:{src:e("GnqT")}})]),r("Form",{ref:"form",attrs:{form:"login"}},[r("div",{staticClass:"wrap"},[r("strong",{staticClass:"t"},[r("span",[t._v("登录")])]),r("Alert",{directives:[{name:"show",rawName:"v-show",value:t.showError,expression:"showError"}],attrs:{type:"error","show-icon":"show-icon"}},[t._v(t._s(t.errorText))]),r("FormItem",[r("comp-input",{ref:"account",attrs:{name:"account",defaultValue:"",placeholder:"手机/邮箱/用户名",styles:"width:100%","on-errorparent":t.onShowError,"on-focusparent":t.onHideError,errorInCompInput:!1,label:"登录名"}},[r("Icon",{staticClass:"iconleft",attrs:{slot:"left",custom:"i-icon i-icon-people"},slot:"left"})],1)],1),r("FormItem",[r("comp-input",{ref:"password",attrs:{name:"password",defaultValue:"",placeholder:"请输入密码",type:"password",styles:"width:100%","on-errorparent":t.onShowError,"on-focusparent":t.onHideError,errorInCompInput:!1,label:"密码"}},[r("Icon",{staticClass:"iconleft",attrs:{slot:"left",custom:"i-icon i-icon-lock1"},slot:"left"})],1)],1),r("FormItem",{staticClass:"verificationCodeInput"},[r("comp-input",{ref:"verificationCode",attrs:{name:"verificationCode",defaultValue:"",placeholder:"请输验证码",styles:"width:100%","on-errorparent":t.onShowError,"on-focusparent":t.onHideError,errorInCompInput:!1,label:"验证码",maxLength:6}},[r("Icon",{staticClass:"iconleft",attrs:{slot:"left",custom:"i-icon i-icon-tick1"},slot:"left"})],1),r("a",{directives:[{name:"show",rawName:"v-show",value:!t.success,expression:"!success"}],attrs:{href:"javascript:;"},on:{click:t.getVerificationCode}},[t._v(t._s(t.textVC))]),r("span",{directives:[{name:"show",rawName:"v-show",value:t.success,expression:"success"}],staticClass:"tips"},[t._v("重新发送("+t._s(t.downTime)+")")])],1),r("FormItem",[r("Button",{attrs:{type:"primary",loading:t.loadingBtn},on:{click:t.submit}},[t._v("立即登录")]),r("router-link",{staticClass:"forgetPw",attrs:{to:"/findPw"}},[t._v("忘记密码")])],1)],1)]),r("div",{staticClass:"footer"},[r("span",[t._v("Copyright © 1993-2019"),r("br"),t._v("北京新网数码信息技术有限公司 版权所有")])])],1)],1)},staticRenderFns:[]};var l=e("VU/8")(a,c,!1,function(t){e("2j7u")},null,null);o.default=l.exports}});
//# sourceMappingURL=24.9f90f6f55ede438abdf0.js.map