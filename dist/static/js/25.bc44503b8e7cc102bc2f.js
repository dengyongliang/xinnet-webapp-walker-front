webpackJsonp([25],{E11S:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=e("Dd8w"),r=e.n(s),a=e("NYxO"),n=e("5reh"),i=e("XrW5"),c=e("973t"),l={components:{compInput:i.a,compRePassword:c.a},data:function(){return{step:1,showError:!1,errorText:"errorText",success:!1,modalAlertInfo:{show:!1,title:"",content:""},loadingBtn:!1}},methods:r()({nextForm:function(){this.step=2},submit:function(){var t=this;this.step=3,this.loadingBtn=!0;var o={param:{account:this.$refs.account.value,password:this.$refs.password.value,verificationCode:this.$refs.verificationCode.value},callback:function(o){var e=o.data;"1000"===e.code?t.step=3:(t.loadingBtn=!1,"100"===e.code?t.account.error=2:"200"===e.code?(t.modalAlertInfo.show=!0,t.modalAlertInfo.title="失败",t.modalAlertInfo.content="用户已登录"):"300"===e.code?t.verificationCode.error=3:"400"===e.code?t.password.error=2:"600"===e.code?(t.modalAlertInfo.show=!0,t.modalAlertInfo.title="失败",t.modalAlertInfo.content="用户被锁定"):"700"===e.code&&(t.modalAlertInfo.show=!0,t.modalAlertInfo.title="失败",t.modalAlertInfo.content="用户权限异常"))}};this.loginSubmit(o)},onShowError:function(t){this.showError=!0,this.errorText=t},onHideError:function(){this.showError=!1},getVerificationCode:function(t){var o=this;if(""===this.$refs.account.value)return this.$refs.account.showValidateResult({text:""}),this.onShowError("请输入登录名"),this.loadingBtn=!1,!1;var e={param:{userCode:this.$refs.account.value},callback:function(t){var e=t.data;"1000"===e.code?(o.success=!0,o.countDown()):"100"===e.code?o.$refs.account.showValidateResult({text:"手机号码不存在"}):"200"===e.code?o.onShowError("获取短信验证码已超上限"):"300"===e.code&&o.onShowError("短信验证码已发送")}};this.loginVerificationCode(e)}},Object(a.b)({loginSubmit:n.J,loginVerificationCode:n.K})),computed:r()({},Object(a.c)(["types.SHOW_BODY_SPIN"])),beforeMount:function(){},mounted:function(){this.$store.commit(n._75)}},d={render:function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("Row",{staticClass:"code-row-bg pageFindPw",attrs:{type:"flex",justify:"center",align:"middle"}},[s("Col",{staticClass:"main clear"},[s("div",{staticClass:"logo"},[s("img",{attrs:{src:e("GnqT")}})]),s("Form",{ref:"form",attrs:{form:"login"}},[s("div",{staticClass:"wrap"},[s("div",{directives:[{name:"show",rawName:"v-show",value:3!==t.step,expression:"step!==3"}]},[s("strong",{staticClass:"t"},[s("span",[t._v("找回密码")])]),s("Alert",{directives:[{name:"show",rawName:"v-show",value:t.showError,expression:"showError"}],attrs:{type:"error","show-icon":"show-icon"}},[t._v(t._s(t.errorText))]),s("div",{directives:[{name:"show",rawName:"v-show",value:1===t.step,expression:"step===1"}],staticClass:"setp1"},[s("FormItem",{staticClass:"mobileInput"},[s("comp-input",{ref:"userName",attrs:{name:"userName",defaultValue:"",placeholder:"输入账号绑定手机号",styles:"width:100%","on-errorparent":t.onShowError,"on-focusparent":t.onHideError,errorInCompInput:!1}},[s("Icon",{staticClass:"iconleft",attrs:{slot:"left",custom:"i-icon i-icon-mobile"},slot:"left"})],1),t.success?t._e():s("a",{attrs:{href:"javascript:;"},on:{click:t.getVerificationCode}},[t._v("获取短信验证码")]),s("span",{staticClass:"tips"},[t.success?s("i",[t._v("发送成功")]):t._e()])],1),s("FormItem",{staticClass:"verificationCodeInput"},[s("comp-input",{ref:"userName",attrs:{name:"userName",defaultValue:"",placeholder:"输入验证码",maxLength:6,styles:"width:100%","on-errorparent":t.onShowError,"on-focusparent":t.onHideError,errorInCompInput:!1}},[s("Icon",{staticClass:"iconleft",attrs:{slot:"left",custom:"i-icon i-icon-tick1"},slot:"left"})],1)],1),s("FormItem",[s("Button",{attrs:{type:"primary",loading:t.loadingBtn},on:{click:t.nextForm}},[t._v("下一步")])],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:2===t.step,expression:"step===2"}],staticClass:"setp2"},[s("comp-re-password",{ref:"compRePassword",attrs:{defaultValue:"",label1:"",label2:"",placeholder1:"请输入新密码",placeholder2:"请重复新密码",styles1:"width:100%",styles2:"width:100%","on-errorparent":t.onShowError,"on-focusparent":t.onHideError,errorInCompInput:!1}},[s("Icon",{staticClass:"iconleft",attrs:{slot:"left1",custom:"i-icon i-icon-lock1"},slot:"left1"}),s("Icon",{staticClass:"iconleft",attrs:{slot:"left2",custom:"i-icon i-icon-lock1"},slot:"left2"})],1),s("FormItem",[s("Button",{attrs:{type:"primary",loading:t.loadingBtn},on:{click:t.submit}},[t._v("完成")])],1)],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:3===t.step,expression:"step===3"}],staticClass:"setp3"},[s("p",{staticClass:"p1"},[s("Icon",{attrs:{type:"ios-checkmark-circle-outline"}})],1),s("p",{staticClass:"p2"},[t._v("已重置密码！")]),s("p",{staticClass:"p3"},[t._v("请重新登录")]),s("Button",{attrs:{type:"primary",replace:!0,to:"/login"}},[t._v("去登录")])],1)])]),s("div",{staticClass:"footer"},[s("span",[t._v("Copyright © 1993-2019"),s("br"),t._v("北京新网数码信息技术有限公司 版权所有")])])],1)],1)},staticRenderFns:[]};var p=e("VU/8")(l,d,!1,function(t){e("fo8o")},null,null);o.default=p.exports},GnqT:function(t,o,e){t.exports=e.p+"static/img/logo.a5cedef.png"},fo8o:function(t,o){}});
//# sourceMappingURL=25.bc44503b8e7cc102bc2f.js.map